//ルートシグネチャの宣言
//#define RS "RootFlags(ALLOW_INPUT_ASSEMBLER_INPUT_LAYOUT),\
//CBV(b0),\
//SRV(t0),\
//DescriptorTable(CBV(b1, numDescriptors = 1, space = 0), visibility = SHADER_VISIBILITY_ALL),\
//DescriptorTable(SRV(t1, numDescriptors = 1, space = 0), visibility = SHADER_VISIBILITY_PIXEL),\
//StaticSampler(s0, filter = FILTER_MIN_MAG_MIP_LINEAR,\
//addressU = TEXTURE_ADDRESS_WRAP,\
//addressV = TEXTURE_ADDRESS_WRAP,\
//addressW = TEXTURE_ADDRESS_WRAP,\
//mipLodBias = 0.0f,\
//maxAnisotropy = 0,\
//comparisonFunc = COMPARISON_NEVER,\
//borderColor = STATIC_BORDER_COLOR_TRANSPARENT_BLACK,\
//minLOD = 0.0f,\
//maxLOD = 3.402823466e+38f,\
//space = 0,\
//visibility = SHADER_VISIBILITY_ALL)"

//テクスチャ
Texture2D<float4> tex : register(t0);
//サンプラー
SamplerState smp : register(s0);

//ワールドビュープロジェクション
cbuffer wvp : register(b0)
{
	//ワールド行列
    float4x4 world;
	//ビュープロジェクション行列
    float4x4 viewProjection;
}

//ウィンドウサイズ・画像サイズ
cbuffer image : register(b1)
{
	//ウィンドウサイズ
	float2 window;
}

//出力
struct Out
{
	//システム座標
    float4 svpos : SV_POSITION;
	//座標
    float4 pos : POSITION;
	//uv値
    float2 uv : TEXCOORD;
};

//入力
struct VSInput
{
	//座標
    float4 pos : POSITION;
	//uv
    float2 uv : TEXCOORD;
};

//頂点シェーダ
//[RootSignature(RS)]
Out BasicVS(VSInput input)
{
    //座標補正
    //input.pos.xy = float2(-1, 1) + (input.pos.xy / float2((640 / 2.0f), -(480 / 2.0f)));
    //input.pos = mul(mul(viewProjection, world), input.pos);

    Out o;
    o.svpos = input.pos;
    o.pos = input.pos;
    o.uv = input.uv;
	
    return o;
}

//ピクセルシェーダ
//[RootSignature(RS)]
float4 BasicPS(Out o) : SV_TARGET
{
	//return float4(tex.Sample(smp, o.uv).rgb, 0);
    float4 t = tex.Sample(smp, o.uv);
    if (t.a <= 0.0)
    {
        discard;
    }

    float bright = 2.5f;

    t.rgb *= float3(bright, bright, bright);

    return t;
}